
<section>
  <div class="card mt-5">
    <app-section-loading [isLoading]="loading"></app-section-loading>
    <div class="card-body">
      <h6 class="text-center">إضافة أو تحديث تصنيف</h6>
      <form #categoryForm="ngForm" (ngSubmit)="onSubmit(categoryForm)">
        <alert [id]="alert.id"></alert>
        <input
          type="hidden"
          name="id"
          ngModel
          #id="ngModel"
          [(ngModel)]="categoryService.selectedCategory.id"
        />
        <div class="form-group">
          <div
            [hidden]="name.valid || name.pristine"
            class="alert alert-danger"
          >
            الإسم مطلوب
          </div>
          <input
            type="text"
            name="name"
            class="form-control"
            ngModel
            #name="ngModel"
            [(ngModel)]="categoryService.selectedCategory.name"
            placeholder="إضافة إسم تصنيف"
            minlength="3"
            pattern="[0-9a-zA-Z\s\u0600-\u06FF]*"
            required
          />
        </div>

        <div class="form-group">
          <div
            [hidden]="description.valid || description.pristine"
            class="alert alert-danger"
          >
            الوصف مطلوب
          </div>
          <input
            type="text"
            name="description"
            class="form-control"
            ngModel
            #description="ngModel"
            [(ngModel)]="categoryService.selectedCategory.description"
            placeholder="إضافة وصف"
            minlength="3"
            required
          />
        </div>

        <div class="text-center">
          <button
            mat-raised-button
            color="dam-success"
            type="submit"
            class="mr-2"
            [disabled]="categoryForm.invalid"
          >
            {{ this.categoryService.valueBtn }}
          </button>
          <button
            mat-raised-button
            color="dam-warn"
            type="reset"
            class="mr-2"
            (click)="resetForm(categoryForm)"
          >
            مسح
          </button>
        </div>
      </form>
    </div>
  </div>
</section>
